pipeline {
    agent {
		docker { image 'ajay27jsr/money_api' }
		}
	stages{
    		stage('Build Docker Image') {
                steps{
                    sh "docker build -t ajay27jsr/money_api:v1"
                }
            }
	    
            stage('Run Docker Image And Expose API'){
                steps {
                sh "docker run -d -p 5000:5000 --name ajay27jsr/money_api ajay27jsr/money_api:v1"
                }
      }
      }
}
